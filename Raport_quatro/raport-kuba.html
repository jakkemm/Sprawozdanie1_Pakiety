<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Emil Olszewski, Jakub Kempa">
<meta name="dcterms.date" content="2024-01-17">

<title>Analiza wyników w trójboju</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="raport-kuba_files/libs/clipboard/clipboard.min.js"></script>
<script src="raport-kuba_files/libs/quarto-html/quarto.js"></script>
<script src="raport-kuba_files/libs/quarto-html/popper.min.js"></script>
<script src="raport-kuba_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="raport-kuba_files/libs/quarto-html/anchor.min.js"></script>
<link href="raport-kuba_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="raport-kuba_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="raport-kuba_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="raport-kuba_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="raport-kuba_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-full">

<main class="content column-page" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Analiza wyników w trójboju</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Emil Olszewski, Jakub Kempa </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 17, 2024</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="wstęp" class="level1">
<h1>1. Wstęp</h1>
<p>Przedmiotem analizy są dane ze zbioru zawierającego informacje na temat trójboistów zrzeszonch w ramach federacji IPF. <a href="https://gitlab.com/openpowerlifting/opl-data">Dane</a> zostały udostępnione na warunkach licencji <strong>GNU AGPLv3.</strong> Głównymi zmiennymi, które będą nas interesować są <strong>AgeClass</strong> (zmienne kategoryczna określająca przedział wiekowy zawodnika) oraz zmienne ciągłe <strong>BodyweightKg, Best3BenchKg, Best3SquatKg, Best3DeadliftKg</strong> i <strong>TotalKg,</strong> które wyrażają masę ciała zawodnika, wyniki w poszcególnych bojach (wyciskanie na ławce, przysiad ze sztangą oraz martwy ciąg), jak i wynik całkowity.</p>
<section id="pytania-badawcze" class="level2">
<h2 class="anchored" data-anchor-id="pytania-badawcze">1.1 Pytania badawcze</h2>
<p>W ramach analizy postaramy się odpowiedzieć na następujące pytania:</p>
<ol type="1">
<li><p>Czy istnieje zależność między wagą a wynikami w poszczególnych bojach?</p></li>
<li><p>Jakie parametry opisują rozkłady poszczególnych zmiennych?</p></li>
<li><p>W jaki sposób różnią się rozkłady wyników oraz wagi w zależności od wieku?</p></li>
</ol>
</section>
<section id="ładowanie-danych" class="level2">
<h2 class="anchored" data-anchor-id="ładowanie-danych">1.2 Ładowanie danych</h2>
<p>Wpierw przystąpimy do załadowania potrzebnych bibliotek</p>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.3     ✔ readr     2.1.4
✔ forcats   1.0.0     ✔ stringr   1.5.0
✔ ggplot2   3.4.3     ✔ tibble    3.2.1
✔ lubridate 1.9.3     ✔ tidyr     1.3.0
✔ purrr     1.0.2     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
</div>
<p>Aby załączyć nasze dane musimy rozważyć w jaki sposób w naszych danych przedstawiony jest <em>brak danych</em>. W naszym pliku csv taki rekord to po prostu brak danych w wierszu.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>probka <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"../powerlifting.csv"</span>, <span class="at">na.strings =</span> <span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Tak się prezentuje 10 początkowych obserwacji</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(probka)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>              Name Sex Event  Equipment  Age AgeClass BirthYearClass
1          K Leong   M     B        Raw   NA    18-19           &lt;NA&gt;
2   Sergei Khitrov   M   SBD        Raw 38.0    35-39          24-39
3 Michael Werschem   M   SBD      Wraps 20.0    20-23          19-23
4      Ray Hickman   M     B  Multi-ply 28.5    24-34          24-39
5    John Robinson   M     B  Multi-ply   NA    40-44          40-49
6   Alexis Lafever   F   SBD Single-ply   NA     &lt;NA&gt;           &lt;NA&gt;
       Division BodyweightKg WeightClassKg Squat1Kg Squat2Kg Squat3Kg Squat4Kg
1           17+         82.5          82.5       NA       NA       NA       NA
2          Open         86.6            90      200      210    212.5       NA
3 Juniors 20-23        103.6           110      175      195    225.0       NA
4          Open         75.0            75       NA       NA       NA       NA
5 Masters 40-44           NA          140+       NA       NA       NA       NA
6         Girls         82.1          82.3       NA       NA       NA       NA
  Best3SquatKg Bench1Kg Bench2Kg Bench3Kg Bench4Kg Best3BenchKg Deadlift1Kg
1           NA       NA       NA       NA       NA        65.00          NA
2        212.5    160.0     -165    165.0       NA       165.00       240.0
3        225.0    112.5      125   -137.5       NA       125.00       207.5
4           NA       NA       NA       NA       NA       177.50          NA
5           NA       NA       NA       NA       NA       328.85          NA
6           NA       NA       NA       NA       NA           NA          NA
  Deadlift2Kg Deadlift3Kg Deadlift4Kg Best3DeadliftKg TotalKg Place   Dots
1          NA          NA          NA              NA   65.00     6  44.03
2       260.0         270          NA           270.0  647.50     6 427.10
3       237.5          NA          NA           237.5  587.50     1 356.26
4          NA          NA          NA              NA  177.50     2 127.34
5          NA          NA          NA              NA  328.85     1     NA
6          NA          NA          NA              NA      NA    DQ     NA
   Wilks Glossbrenner Goodlift Tested   Country State Federation
1  43.54        41.90    32.75    Yes Australia   QLD         PA
2 421.86       405.01    87.74   &lt;NA&gt;    Russia  &lt;NA&gt;        IPL
3 352.75       336.82    72.99    Yes       USA    OK       USPA
4 126.48       122.21    68.34    Yes       USA  &lt;NA&gt;      WABDL
5     NA           NA       NA   &lt;NA&gt;       USA    SC        SPF
6     NA           NA       NA    Yes      &lt;NA&gt;  &lt;NA&gt;     THSWPA
  ParentFederation       Date MeetCountry MeetState               MeetTown
1              IPF 2002-01-01   Australia      &lt;NA&gt;                   &lt;NA&gt;
2              IPL 2017-12-15      Russia      &lt;NA&gt;           Dolgoprudnyy
3              IPL 2022-06-11         USA        OK                 Norman
4             &lt;NA&gt; 2000-08-05         USA        OR            Wilsonville
5             &lt;NA&gt; 2008-07-19         USA        AL             Tuscaloosa
6             &lt;NA&gt; 2017-01-14         USA        TX Coronado Middle School
                                  MeetName
1    Australian Schools Postal Bench Press
2                                World Cup
3 Drug Tested Oklahoma State Championships
4                                World Cup
5                       Temple Gym Classic
6                   Plainview Invitational</code></pre>
</div>
</div>
<p>Interesować nas będą tylko zmienne <strong>Sex,</strong> <strong>AgeClass, BodyWeightKg</strong> i <strong>TotalKg</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>probka <span class="ot">&lt;-</span> probka[, <span class="fu">c</span>(<span class="st">"Sex"</span>, <span class="st">"AgeClass"</span>, <span class="st">"BodyweightKg"</span>, <span class="st">"TotalKg"</span>)]</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(probka)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     Sex              AgeClass          BodyweightKg       TotalKg      
 Length:49999       Length:49999       Min.   : 20.00   Min.   :  12.5  
 Class :character   Class :character   1st Qu.: 67.20   1st Qu.: 204.1  
 Mode  :character   Mode  :character   Median : 81.90   Median : 356.1  
                                       Mean   : 84.12   Mean   : 378.3  
                                       3rd Qu.: 98.79   3rd Qu.: 533.0  
                                       Max.   :241.10   Max.   :1250.0  
                                       NA's   :644      NA's   :3339    </code></pre>
</div>
</div>
<p>Napotykamy pierwszy problem. Wszystkie zmienne są typu <code>character</code>, gdy powinny być typu</p>
<ul>
<li><p><code>numeric</code> dla <strong>BodyweightKg, TotalKg</strong></p></li>
<li><p><code>factor</code> dla <strong>Sex, AgeClass</strong></p></li>
</ul>
<p>Dokonajmy więc konwersji</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>probka<span class="sc">$</span>BodyweightKg    <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(probka<span class="sc">$</span>BodyweightKg)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>probka<span class="sc">$</span>TotalKg         <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(probka<span class="sc">$</span>TotalKg)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>probka<span class="sc">$</span>Sex             <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(probka<span class="sc">$</span>Sex)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>probka<span class="sc">$</span>AgeClass        <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(probka<span class="sc">$</span>AgeClass)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(probka)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Sex          AgeClass      BodyweightKg       TotalKg      
 F:12515   24-34  :10615   Min.   : 20.00   Min.   :  12.5  
 M:37484   20-23  : 6007   1st Qu.: 67.20   1st Qu.: 204.1  
           18-19  : 4300   Median : 81.90   Median : 356.1  
           16-17  : 3383   Mean   : 84.12   Mean   : 378.3  
           35-39  : 2819   3rd Qu.: 98.79   3rd Qu.: 533.0  
           (Other): 9457   Max.   :241.10   Max.   :1250.0  
           NA's   :13418   NA's   :644      NA's   :3339    </code></pre>
</div>
</div>
<p>Dokonamy teraz zmiany nazw kolumn na bardziej przystępne</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(probka) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"plec"</span>, <span class="st">"wiek"</span>, <span class="st">"masa"</span>, <span class="st">"total"</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(probka)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  plec  wiek  masa  total
1    M 18-19  82.5  65.00
2    M 35-39  86.6 647.50
3    M 20-23 103.6 587.50
4    M 24-34  75.0 177.50
5    M 40-44    NA 328.85
6    F  &lt;NA&gt;  82.1     NA</code></pre>
</div>
</div>
<p>Nasze dane mają również rekordy z brakiem danych, zatem kolejnym krokiem jest usunięcie wierszy, w których takie braki się pojawiają.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>probka <span class="ot">&lt;-</span> probka <span class="sc">%&gt;%</span> <span class="fu">drop_na</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Dzięki temu otrzymujemy zestaw danych, który swobodnie może być poddawanym analizom.</p>
</section>
</section>
<section id="analiza-jednowymiarowa" class="level1">
<h1>2. Analiza jednowymiarowa</h1>
<p>W tej części zajmiemy się analizą statystyczną wybranych przez nas kategorii. Zmienne kategoryczne mają ograniczone możliwości co do analizy, dlatego ograniczymy się do histogramu i przedstawienia liczności.</p>
<section id="zmienna-płeć" class="level2">
<h2 class="anchored" data-anchor-id="zmienna-płeć">2.1 Zmienna: <em>Płeć</em></h2>
<p>Dla tej zmiennej występują tylko dwie wartości <em>M, F</em>, oznaczające płeć zawodnika/zawodniczki. Przewaga mężczyzn nie jest zaskakująca.</p>
<div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(probka, <span class="fu">aes</span>(<span class="at">x =</span> plec, <span class="at">y =</span> ..count.., <span class="at">fill =</span> ..count..)) <span class="sc">+</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">position =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Histogram - Płeć"</span>) <span class="sc">+</span> </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>plec <span class="ot">&lt;-</span> <span class="fu">table</span>(probka<span class="sc">$</span>plec)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>procent_danych <span class="ot">&lt;-</span>  <span class="fu">round</span>(<span class="fu">prop.table</span>(plec) <span class="sc">*</span> <span class="dv">100</span>, <span class="at">digits=</span><span class="dv">2</span>)</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>stats <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Plec =</span> <span class="fu">as.character</span>(<span class="fu">names</span>(plec)), <span class="at">Licznosc =</span> <span class="fu">as.numeric</span>(plec), <span class="at">Procent =</span> <span class="fu">as.numeric</span>(procent_danych))</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(stats)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="raport-kuba_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Histogram zmiennej - Płeć</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<table class="table table-sm table-striped small">
<caption>Tabela przedstawiająca liczność i procent pod względem płci </caption>
<thead>
<tr class="header">
<th style="text-align: left;">Plec</th>
<th style="text-align: right;">Licznosc</th>
<th style="text-align: right;">Procent</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">F</td>
<td style="text-align: right;">8929</td>
<td style="text-align: right;">26.04</td>
</tr>
<tr class="even">
<td style="text-align: left;">M</td>
<td style="text-align: right;">25363</td>
<td style="text-align: right;">73.96</td>
</tr>
</tbody>
</table>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<p>Histogram zmiennej - Płeć</p>
</div>
</div>
</div>
</div>
</section>
<section id="zmienna-kategoria-wiekowa" class="level2">
<h2 class="anchored" data-anchor-id="zmienna-kategoria-wiekowa">2.2 Zmienna: <em>Kategoria wiekowa</em></h2>
<p>Występuje tutaj 16 różnych wartości, przypisujących danego zawodnika do danej kategorii. Najwięcej osób startuje w kategorii wiekowej <em>24-34</em>, co stanowi ok. 29% wszystkich zawodników. Kategorię <em>80-999</em> należy rozumieć jako osoby w wieku <span class="math inline">\(\ge 80\)</span></p>
<div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(probka, <span class="fu">aes</span>(<span class="at">x =</span> wiek, <span class="at">y =</span> ..count.., <span class="at">fill =</span> ..count..)) <span class="sc">+</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">position =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Histogram - Kategoria wiekowa"</span>) <span class="sc">+</span> </span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>wiek_ilosc <span class="ot">&lt;-</span> <span class="fu">table</span>(probka<span class="sc">$</span>wiek)</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>procent_danych <span class="ot">&lt;-</span>  <span class="fu">round</span>(<span class="fu">prop.table</span>(wiek_ilosc) <span class="sc">*</span> <span class="dv">100</span>, <span class="at">digits=</span><span class="dv">2</span>)</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>stats <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Wiek =</span> <span class="fu">as.character</span>(<span class="fu">names</span>(wiek_ilosc)), <span class="at">Licznosc =</span> <span class="fu">as.numeric</span>(wiek_ilosc), <span class="at">Procent =</span> <span class="fu">as.numeric</span>(procent_danych))</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(stats)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="raport-kuba_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Histogram zmiennej - Kategoria wiekowa</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<table class="table table-sm table-striped small">
<caption>Tabela przedstawiająca liczność i procent dla danej kategorii wiekowej </caption>
<thead>
<tr class="header">
<th style="text-align: left;">Wiek</th>
<th style="text-align: right;">Licznosc</th>
<th style="text-align: right;">Procent</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">13-15</td>
<td style="text-align: right;">1134</td>
<td style="text-align: right;">3.31</td>
</tr>
<tr class="even">
<td style="text-align: left;">16-17</td>
<td style="text-align: right;">3160</td>
<td style="text-align: right;">9.21</td>
</tr>
<tr class="odd">
<td style="text-align: left;">18-19</td>
<td style="text-align: right;">3960</td>
<td style="text-align: right;">11.55</td>
</tr>
<tr class="even">
<td style="text-align: left;">20-23</td>
<td style="text-align: right;">5644</td>
<td style="text-align: right;">16.46</td>
</tr>
<tr class="odd">
<td style="text-align: left;">24-34</td>
<td style="text-align: right;">9973</td>
<td style="text-align: right;">29.08</td>
</tr>
<tr class="even">
<td style="text-align: left;">35-39</td>
<td style="text-align: right;">2637</td>
<td style="text-align: right;">7.69</td>
</tr>
<tr class="odd">
<td style="text-align: left;">40-44</td>
<td style="text-align: right;">2493</td>
<td style="text-align: right;">7.27</td>
</tr>
<tr class="even">
<td style="text-align: left;">45-49</td>
<td style="text-align: right;">1637</td>
<td style="text-align: right;">4.77</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5-12</td>
<td style="text-align: right;">171</td>
<td style="text-align: right;">0.50</td>
</tr>
<tr class="even">
<td style="text-align: left;">50-54</td>
<td style="text-align: right;">1321</td>
<td style="text-align: right;">3.85</td>
</tr>
<tr class="odd">
<td style="text-align: left;">55-59</td>
<td style="text-align: right;">854</td>
<td style="text-align: right;">2.49</td>
</tr>
<tr class="even">
<td style="text-align: left;">60-64</td>
<td style="text-align: right;">623</td>
<td style="text-align: right;">1.82</td>
</tr>
<tr class="odd">
<td style="text-align: left;">65-69</td>
<td style="text-align: right;">338</td>
<td style="text-align: right;">0.99</td>
</tr>
<tr class="even">
<td style="text-align: left;">70-74</td>
<td style="text-align: right;">220</td>
<td style="text-align: right;">0.64</td>
</tr>
<tr class="odd">
<td style="text-align: left;">75-79</td>
<td style="text-align: right;">91</td>
<td style="text-align: right;">0.27</td>
</tr>
<tr class="even">
<td style="text-align: left;">80-999</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">0.10</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p>Histogram zmiennej - Kategoria wiekowa</p>
</div>
</div>
</div>
</div>
</section>
<section id="zmienna-waga-zawodnika" class="level2">
<h2 class="anchored" data-anchor-id="zmienna-waga-zawodnika">2.3 Zmienna: <em>Waga zawodnika</em></h2>
<p>Dla tej zmiennej ciągłej można już przeprowadzić szereg analiz statystycznych oraz narysować wykres pudełkowy.</p>
<div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(probka, <span class="fu">aes</span>(<span class="at">x =</span> masa, <span class="at">y =</span> ..density.., <span class="at">fill =</span> ..density..)) <span class="sc">+</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">7</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">position =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Unormowany histogram - Masa zawodnika"</span>) <span class="sc">+</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">percent_format</span>(<span class="at">scale =</span> <span class="dv">1</span>))</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(probka, <span class="fu">aes</span>(<span class="at">y =</span> masa)) <span class="sc">+</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Wykres pudełkowy masy"</span>) <span class="sc">+</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="raport-kuba_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Histogram</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="raport-kuba_files/figure-html/unnamed-chunk-11-2.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Boxplot</figcaption>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p>Wykresy dla zmiennej Masa</p>
</div>
</div>
</div>
</div>
<p>Na histogramie widzimy, że jest on prawostronnie skośny i prawie symetryczny. Ponadto zarówno histogram, jak i wykres pudełkowy wykazują dużą obecność tzw. outliersów, czyli wartości odstających, wywołanych niskim rozstępem międzykwartylowym. Histogram przypomina histogram rozkładu normalnego. Dodatkowo wydaje się być platykurtyczny, ze względu na swój płaski szczyt. Poniżej w tabeli przedstawione są podstawowe statystki dla tej zmiennej.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>summary_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Statystyki =</span> <span class="fu">c</span>(<span class="st">"Minimum"</span>, <span class="st">"Pierwszy kwartyl"</span>, <span class="st">"Mediana"</span>, <span class="st">"Srednia"</span>, <span class="st">"Trzeci kwartyl"</span>, <span class="st">"Rozstep miedzykwartylowy"</span>, <span class="st">"Maximum"</span>, <span class="st">"Wariancja"</span>, <span class="st">"Skosnosc"</span>, <span class="st">"Kurtoza"</span>),</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Wartosci =</span> <span class="fu">c</span>(<span class="fu">min</span>(probka<span class="sc">$</span>masa), <span class="fu">quantile</span>(probka<span class="sc">$</span>masa, <span class="fl">0.25</span>), <span class="fu">median</span>(probka<span class="sc">$</span>masa), <span class="fu">mean</span>(probka<span class="sc">$</span>masa), <span class="fu">quantile</span>(probka<span class="sc">$</span>masa, <span class="fl">0.75</span>), <span class="fu">IQR</span>(probka<span class="sc">$</span>masa), <span class="fu">max</span>(probka<span class="sc">$</span>masa), <span class="fu">var</span>(probka<span class="sc">$</span>masa), <span class="fu">skewness</span>(probka<span class="sc">$</span>masa), <span class="fu">kurtosis</span>(probka<span class="sc">$</span>masa))</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(summary_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Tabela przedstawiająca zbiór wartości poszczególnych statystyk </caption>
<thead>
<tr class="header">
<th style="text-align: left;">Statystyki</th>
<th style="text-align: right;">Wartosci</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Minimum</td>
<td style="text-align: right;">20.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Pierwszy kwartyl</td>
<td style="text-align: right;">67.5000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Mediana</td>
<td style="text-align: right;">82.0300000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Srednia</td>
<td style="text-align: right;">84.4770331</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Trzeci kwartyl</td>
<td style="text-align: right;">98.7500000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Rozstep miedzykwartylowy</td>
<td style="text-align: right;">31.2500000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Maximum</td>
<td style="text-align: right;">241.1000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Wariancja</td>
<td style="text-align: right;">507.5577170</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Skosnosc</td>
<td style="text-align: right;">0.6766139</td>
</tr>
<tr class="even">
<td style="text-align: left;">Kurtoza</td>
<td style="text-align: right;">0.7661658</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Wartość mediany jest zbliżona do wartości średniej, co wskazuje na dość dużą symetryczność rozkładu. Brak ich pokrycia wynika z istnienia wartości odstających. Skośność większa od 0 wskazuje na prawoskośność, co zgadza się z wnioskami odnośnie histogramu oraz jego wyglądem. Kurtoza mniejsza od 3 oznacza, że rozkład jest bardziej <em>płaski</em>, niż rozkład normalny. Istnieje jednak wiele podobieństw pomiędzy rozkładem mas zawodników oraz rozkładem normalnym. Rozbieżność występuje prawdopodobnie ze względu na niestandardowe warunki, którymi są zawody w trójboju siłowym. Zbiorem danych są sportowcy, a nie losowa grupa ludzi, przez co rozkład masy zawodników może bardziej różnić się od rozkładu normalnego, niż losowa próba z populacji.</p>
</section>
<section id="zmienna-łączna-masa" class="level2">
<h2 class="anchored" data-anchor-id="zmienna-łączna-masa">2.4 Zmienna: Łączna masa</h2>
<div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(probka, <span class="fu">aes</span>(<span class="at">x =</span> total, <span class="at">y =</span> ..density.., <span class="at">fill =</span> ..density..)) <span class="sc">+</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">20</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">position =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Unormowany histogram - Suma wszystkich podniesionych ciężarów"</span>) <span class="sc">+</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">percent_format</span>(<span class="at">scale =</span> <span class="dv">1</span>))</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(probka, <span class="fu">aes</span>(<span class="at">y =</span> total)) <span class="sc">+</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Wykres pudełkowy wyniku total"</span>) <span class="sc">+</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="raport-kuba_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Histogram</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="raport-kuba_files/figure-html/unnamed-chunk-13-2.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Boxplot</figcaption>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p>Wykresy dla zmiennej Total</p>
</div>
</div>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>summary_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Statystyki =</span> <span class="fu">c</span>(<span class="st">"Minimum"</span>, <span class="st">"Pierwszy kwartyl"</span>, <span class="st">"Mediana"</span>, <span class="st">"Srednia"</span>, <span class="st">"Trzeci kwartyl"</span>, <span class="st">"Rozstep miedzykwartylowy"</span>, <span class="st">"Maximum"</span>, <span class="st">"Wariancja"</span>, <span class="st">"Skosnosc"</span>, <span class="st">"Kurtoza"</span>),</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Wartosci =</span> <span class="fu">c</span>(<span class="fu">min</span>(probka<span class="sc">$</span>total), <span class="fu">quantile</span>(probka<span class="sc">$</span>total, <span class="fl">0.25</span>), <span class="fu">median</span>(probka<span class="sc">$</span>total), <span class="fu">mean</span>(probka<span class="sc">$</span>total), <span class="fu">quantile</span>(probka<span class="sc">$</span>total, <span class="fl">0.75</span>), <span class="fu">IQR</span>(probka<span class="sc">$</span>total), <span class="fu">max</span>(probka<span class="sc">$</span>total), <span class="fu">var</span>(probka<span class="sc">$</span>total), <span class="fu">skewness</span>(probka<span class="sc">$</span>total), <span class="fu">kurtosis</span>(probka<span class="sc">$</span>total))</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(summary_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Tabela przedstawiająca zbiór wartości poszczególnych statystyk </caption>
<thead>
<tr class="header">
<th style="text-align: left;">Statystyki</th>
<th style="text-align: right;">Wartosci</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Minimum</td>
<td style="text-align: right;">20.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Pierwszy kwartyl</td>
<td style="text-align: right;">190.0000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Mediana</td>
<td style="text-align: right;">342.5000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Srednia</td>
<td style="text-align: right;">373.7271667</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Trzeci kwartyl</td>
<td style="text-align: right;">539.7700000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Rozstep miedzykwartylowy</td>
<td style="text-align: right;">349.7700000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Maximum</td>
<td style="text-align: right;">1250.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Wariancja</td>
<td style="text-align: right;">45169.3002501</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Skosnosc</td>
<td style="text-align: right;">0.4391137</td>
</tr>
<tr class="even">
<td style="text-align: left;">Kurtoza</td>
<td style="text-align: right;">-0.6666975</td>
</tr>
</tbody>
</table>
</div>
</div>
<pre><code></code></pre>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>